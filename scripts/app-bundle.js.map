{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/resources/index.js","src/services/donation-service.js","src/services/fixtures.js","src/viewmodels/candidates.js","src/viewmodels/donate.js","src/viewmodels/report.js","src/viewmodels/stats.js","src/viewmodels/messages.js","src/services/messages.js","c:/wit/webdev/aurelia/donation-au/src/viewmodels/login.js"],"names":["App","ds","firstName","lastName","email","password","loggedIn","newUser","donationService","login","e","console","log","status","authenticate","prompt","message","success","switchNewUser","innerHtml","document","getElementById","innerHTML","signUp","register","logout","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","config","DonationService","data","ea","donations","methods","candidates","users","total","donate","amount","method","candidate","donation","parseInt","publish","push","addCandidate","office","Fixtures","Candidate","Donate","selectedMethod","selectedCandidate","makeDonation","Report","Stats","subscribe","msg","TotalUpdate"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {inject} from 'aurelia-framework';\nimport DonationService from 'services/donation-service';\n\n@inject(DonationService)\nexport class App {\n\n  firstName = '';\n  lastName = '';\n  email = '';\n  password = '';\n\n  loggedIn = false;\n\n  newUser = false;\n\n  constructor(ds) {\n    this.donationService = ds;\n  }\n\n  login(e) {\n    console.log(`Trying to log in ${this.email}`);\n    const status = this.donationService.authenticate(this.email, this.password);\n    this.prompt = status.message;\n    this.loggedIn = status.success;\n  }\n\n  switchNewUser() {\n    let innerHtml = 'Sign Up';\n    this.newUser = !this.newUser;\n    if (this.newUser) {\n      innerHtml = 'Login';\n    }\n    document.getElementById('newUser').innerHTML = innerHtml;\n  }\n\n  signUp(e) {\n    this.donationService.register(this.firstName, this.lastName, this.email, this.password);\n    console.log('Registering new user: ' + this.email);\n    this.loggedIn = true;\n  }\n\n  logout() {\n    console.log('Logging out`');\n    this.email = '';\n    this. password = '';\n    this.loggedIn = false;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {inject} from 'aurelia-framework';\nimport Fixtures from './fixtures';\nimport {TotalUpdate} from './messages';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(Fixtures, EventAggregator)\nexport default class DonationService {\n\n  donations = [];\n  methods = [];\n  candidates = [];\n  users = {};\n  total = 0;\n\n  constructor(data, ea) {\n    this.donations = data.donations;\n    this.candidates = data.candidates;\n    this.methods = data.methods;\n    this.users = data.users;\n    this.ea = ea;\n  }\n\n  authenticate(email, password) {\n    const status = {\n      success: false,\n      message: ''\n    };\n\n    if (this.users[email]) {\n      if (this.users[email].password === password) {\n        status.success = true;\n        status.message = 'logged in';\n      } else {\n        status.message = 'Incorrect password';\n      }\n    } else {\n      status.message = 'Unknown user';\n    }\n\n    return status;\n  }\n\n  donate(amount, method, candidate) {\n    let donation = {\n      amount: amount,\n      method: method,\n      candidate: candidate\n    };\n    this.total += parseInt(amount, 10);\n    this.ea.publish(new TotalUpdate(this.total));\n    this.donations.push(donation);\n    console.log(amount + ' donated to ' + candidate.firstName + ' ' + candidate.lastName + ': ' + method + '. Total so far: ' + this.total);\n  }\n\n  addCandidate(firstName, lastName, office) {\n    let candidate = {\n      firstName: firstName,\n      lastName: lastName,\n      office: office\n    };\n    this.candidates.push(candidate);\n    console.log('New candidate added: ' + candidate.firstName + ' ' + candidate.lastName + ', ' + candidate.office);\n  }\n\n  register(firstName, lastName, email, password) {\n    this.users[email] = {\n      firstName: firstName,\n      lastName: lastName,\n      email: email,\n      password: password,\n    };\n  }\n}\n","export default class Fixtures {\n\n  methods = ['Cash', 'PayPal'];\n\n  candidates = [\n    {\n      firstName: 'Lisa',\n      lastName: 'Simpson'\n    },\n    {\n      firstName: 'Bart',\n      lastName: 'Simpson'\n    }\n  ];\n\n  donations = [\n    {\n      amount: 23,\n      method: 'cash',\n      candidate: this.candidates[0]\n    },\n    {\n      amount: 212,\n      method: 'paypal',\n      candidate: this.candidates[1]\n    }\n  ];\n\n  users = {\n    'homer@simpson.com': {\n      firstName: 'Homer',\n      lastName: 'Simpson',\n      email: 'homer@simpson.com',\n      password: 'secret'\n    },\n    'marge@simpson.com': {\n      firstName: 'Marge',\n      lastName: 'Simpson',\n      email: 'marge@simpson.com',\n      password: 'secret'\n    }\n  };\n}\n","import {inject} from 'aurelia-framework';\nimport DonationService from '../services/donation-service';\n\n@inject(DonationService)\nexport class Candidate {\n\n  firstName = '';\n  lastName = '';\n  office = '';\n\n  constructor(ds) {\n    this.donationService = ds;\n  }\n\n  addCandidate() {\n    this.donationService.addCandidate(this.firstName, this.lastName, this.office);\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport DonationService from '../services/donation-service';\n\n@inject(DonationService)\nexport class Donate {\n\n  amount = 0;\n  methods = [];\n  selectedMethod = '';\n\n  candidates = [];\n  selectedCandidate = '';\n\n  constructor(ds) {\n    this.donationService = ds;\n    this.methods = ds.methods;\n    this.selectedMethod = this.methods[0];\n    this.candidates = ds.candidates;\n    this.selectedCandidate = this.candidates[0];\n  }\n\n  makeDonation() {\n    this.donationService.donate(this.amount, this.selectedMethod, this.selectedCandidate);\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport DonationService from '../services/donation-service';\n\n@inject(DonationService)\nexport class Report {\n\n  donations = [];\n\n  constructor(ds) {\n    this.donationService = ds;\n    this.donations = this.donationService.donations;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {TotalUpdate} from '../services/messages';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class Stats {\n\n  total = 0;\n\n  constructor(ea) {\n    ea.subscribe(TotalUpdate, msg => {\n      this.total = msg.total;\n    });\n  }\n}\n","export class TotalUpdate {\n  constructor(total) {\n    this.total = total;\n  }\n}\n","export class TotalUpdate {\n  constructor(total) {\n    this.total = total;\n  }\n}\n",null],"sourceRoot":".."}